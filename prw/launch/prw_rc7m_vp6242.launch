<launch> 
  <arg name="simulated_robot" default="true"/>

  <param name="robot_description" textfile="$(find vp6242_description)/robot/vp6242.urdf" />
  <rosparam command="load" ns="robot_description_planning" file="$(find vp6242_arm_navigation)/config/vp6242_planning_description.yaml" />
 
  <include file="$(find planning_environment)/launch/environment_server.launch" >
    <arg name="use_monitor" value="true"/>
    <arg name="use_collision_map" value="false"/>
  </include>
  
  <include file="$(find vp6242_arm_navigation)/launch/constraint_aware_kinematics.launch" />
  <include file="$(find vp6242_arm_navigation)/launch/ompl_planning.launch" />
  <include file="$(find vp6242_arm_navigation)/launch/trajectory_filter_server.launch" />
  <include file="$(find vp6242_arm_navigation)/launch/trajectory_filter_server2.launch" />

  <!-- RC7M -->
  <node name="vp6242" pkg="hg_cpp" type="hg_ros" output="screen">
    <param name="simulate" value="$(arg simulated_robot)"/>
    <param name="loop_rate" value="100.0"/>
    <param name="joint_publish_rate" value="50.0"/>
    <param name="diagnostic_publish_rate" value="10.0"/>      
    <rosparam file="$(find rc7m)/parameters/vp6242.yaml" command="load" />    
  </node>
  
  <node pkg="robot_state_publisher" type="state_publisher" name="rob_st_pub" output="screen">      
  </node>
  
  <!--node pkg="tf" type="static_transform_publisher" name="world_broadcaster" args="-0.749529 -0.666167 1.862034 0.698622 0.713423 -0.0391633 -0.0377135 kinect7051A_rgb_optical_frame world 10"/-->
  <node pkg="tf" type="static_transform_publisher" name="arm0_broadcaster" args="0 0 0 0 0 0 world base_link 10"/>
  <!--node pkg="tf" type="static_transform_publisher" name="kinect_center_broadcaster" args="-0.004091 0.271591 1.377833 0 0 0  kinect_center_rgb_optical_frame world 10"/-->
  
  <node pkg="prw" type="personal_robotic_workspace" name="prw" output="screen">
    <remap from="kinect_gesture" to="/kinect_server/kinect_gesture" />   
    <remap from="object_tracking" to="/prw_object_tracking/object_output" />
  </node>
  
  <node pkg="rviz" type="rviz" name="rviz" output="screen" args="-d $(find prw)/cfg/prw.vcg">    
  </node>
    
</launch>
